<div class="body">
  <!-- <div class="row">
      <div class="container center">
        <button class="btn btn-custom mr-5" (click)= "Display('myProfile')">My Profile</button>
        <button class="btn btn-custom mr-5" (click)= "Display('myLocs')">My Locations</button>
        <button class="btn btn-custom" (click)= "Display('myFavs')">Favorite Locations</button>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 m-3">     
          <div class="content" >
            <div *ngIf="this.authService.userData != undefined && myProfile" class="container center">
              <h1>My Profile</h1>
              <p>Username: {{this.authService.userData.displayName}}</p>
              <p>E-mail: {{this.authService.userData.email}}</p>
            </div>
            <div *ngIf="this.authService.userData != undefined && myLocs" class="container center">
              <div class="accordion" id="accordionExample">
                <div class="card" *ngFor="let loc of myLocations">
                  <div class="card-header" [attr.id]="'heading-'+loc.payload.doc.data().locationName">
                    <h2 class="mb-0">
                      <button class="btn btn-block text-left text-uppercase text-center" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-'+loc.payload.doc.data().locationName" aria-expanded="true" [attr.aria-controls]="'collapse-'+loc.payload.doc.data().locationName">
                        {{loc.payload.doc.data().locationName}}
                      </button>
                    </h2>
                  </div>
                  <div [attr.id]="'collapse-'+loc.payload.doc.data().locationName" class="collapse" [attr.aria-labelledby]="'heading-'+loc.payload.doc.data().locationName" data-parent="#accordionExample">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center">
                      <div class="d-flex justify-content-around flex-row">
                        <img attr.src="{{img}}" *ngFor="let img of loc.payload.doc.data().images" class="my-4 mx-1" width="50%">
                      </div>
                      <p class="card-text">{{loc.payload.doc.data().locationDescription}}</p>
                      <div class="d-flex justify-content-between flex-row">
                        <p class="card-text" *ngFor="let ex of loc.payload.doc.data().exercises">{{ex}} &nbsp;</p>
                      </div>
                      <p class="card-text">Opening hours: {{loc.payload.doc.data().locationAccess}}</p>
                      <small class="text-muted">Added by: {{loc.payload.doc.data().createdByDN}}</small>
                      <small class="external" ><a class="text-white" attr.href="https://www.google.com/maps/search/?api=1&query={{(loc.payload.doc.data().locationCoordinates).split(',')[0]}}%2C{{(loc.payload.doc.data().locationCoordinates).split(',')[1]}}" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Open in Google Maps">Take me there <i class="fas fa-external-link-alt" style="font-size: 0.7rem;"></i></a></small>            
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="this.authService.userData != undefined && myFavs" class="container center">
              <h1>myFav</h1>
            </div>
          </div>  
      </div>
    </div> -->

  <div class="container">

    <ul class="nav nav-tabs d-flex ">
      <li><a class="btn btn-outline-custom mr-1 active" data-toggle="tab"
          href="#profile">Profile</a></li>
      <li><a class="btn btn-outline-custom mr-1" data-toggle="tab"
          href="#locs">My Locations</a></li>
      <li><a class="btn btn-outline-custom mr-1" data-toggle="tab"
          href="#favs">Favorite Locations</a></li>
    </ul>

    <div class="tab-content ">
      <div id="profile" class="tab-pane fade in active show">
        <div *ngIf="this.authService.userData != undefined" class="container">
          <div class="pt-3">
            <p>Username: {{this.authService.userData.displayName}}</p>
            <p>E-mail: {{this.authService.userData.email}}</p>
          </div>
        </div>
      </div>
      <div id="locs" class="tab-pane fade">
        <div *ngIf="this.authService.userData != undefined " class="container mt-4 center">
          <div class="accordion" id="accordionExample">
            <div class="card" *ngFor="let loc of myLocations">
              <div class="card-header" [attr.id]="'heading-'+loc.payload.doc.data().creationDate+loc.payload.doc.data().createdByUID">
                <h2 class="mb-0">
                  <button class="btn btn-block text-left text-uppercase text-center" type="button" data-toggle="collapse" [attr.data-target]="'#collapse-'+loc.payload.doc.data().creationDate+loc.payload.doc.data().createdByUID" aria-expanded="true" [attr.aria-controls]="'collapse-'+loc.payload.doc.data().creationDate+loc.payload.doc.data().createdByUID">
                    {{loc.payload.doc.data().locationName}}
                  </button>
                </h2>
              </div>
              <div [attr.id]="'collapse-'+loc.payload.doc.data().creationDate+loc.payload.doc.data().createdByUID" class="collapse" [attr.aria-labelledby]="'heading-'+loc.payload.doc.data().creationDate+loc.payload.doc.data().createdByUID" data-parent="#accordionExample">
                <div class="card-body d-flex flex-column justify-content-center align-items-center text-center">
                  <div class="d-flex flex-row horizontal-scroll">
                    <img attr.src="{{img}}" *ngFor="let img of loc.payload.doc.data().images" class="mt-4 mb-3 mx-1" width="50%">
                  </div>
                  <p class="card-text mt-3">{{loc.payload.doc.data().locationDescription}}</p>
                  <div class="d-flex justify-content-between flex-row">
                    <ul>
                      <li class="card-text" *ngFor="let ex of loc.payload.doc.data().exercises">{{ex}} &nbsp;</li>
                    </ul>
                  </div>
                  <p class="card-text">Opening hours: {{loc.payload.doc.data().locationAccess}}</p>
                  <small class="text-muted">Added by: {{loc.payload.doc.data().createdByDN}}</small>
                  <button class="btn btn-danger" (click)="DeleteLocation(loc.payload.doc.id)">Delete</button>
                  <small class="external" ><a class="text-white" attr.href="https://www.google.com/maps/search/?api=1&query={{(loc.payload.doc.data().locationCoordinates).split(',')[0]}}%2C{{(loc.payload.doc.data().locationCoordinates).split(',')[1]}}" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Open in Google Maps">Take me there <i class="fas fa-external-link-alt" style="font-size: 0.7rem;"></i></a></small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="favs" class="tab-pane fade">
        <div *ngIf="this.authService.userData != undefined" class="container center">
        </div>
      </div>
    </div>
  </div>


  <div class="row">
    <button class="btn btn-lg btn-outline-danger btn-block" (click)="authService.SignOut()"><i
        class="fa fa-sign-out"></i>
      Logout</button>
  </div>
</div>


